{
  "version": "5",
  "dialect": "mysql",
  "id": "2a937bf3-e692-41b1-8d4b-0976fb579330",
  "prevId": "00000000-0000-0000-0000-000000000000",
  "tables": {
    "image_operations": {
      "name": "image_operations",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_name": {
          "name": "file_name",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "file_hash": {
          "name": "file_hash",
          "type": "varchar(64)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "original_size_bytes": {
          "name": "original_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "processed_size_bytes": {
          "name": "processed_size_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resolution_origin": {
          "name": "resolution_origin",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "resolution_result": {
          "name": "resolution_result",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "operation_type": {
          "name": "operation_type",
          "type": "enum('upscale','downscale')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "scale_factor": {
          "name": "scale_factor",
          "type": "enum('2','4','8')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "algorithm_used": {
          "name": "algorithm_used",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "quality_mode": {
          "name": "quality_mode",
          "type": "enum('fast','balanced','quality')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'balanced'"
        },
        "status": {
          "name": "status",
          "type": "enum('queued','processing','completed','failed','cancelled')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'queued'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "processing_time_ms": {
          "name": "processing_time_ms",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "progress": {
          "name": "progress",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "storage_path_original": {
          "name": "storage_path_original",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "storage_path_processed": {
          "name": "storage_path_processed",
          "type": "varchar(500)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "metadata": {
          "name": "metadata",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "is_deleted": {
          "name": "is_deleted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(now())"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "user_id_idx": {
          "name": "user_id_idx",
          "columns": [
            "user_id"
          ],
          "isUnique": false
        },
        "status_idx": {
          "name": "status_idx",
          "columns": [
            "status"
          ],
          "isUnique": false
        },
        "file_hash_idx": {
          "name": "file_hash_idx",
          "columns": [
            "file_hash"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "image_operations_id": {
          "name": "image_operations_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "processing_queue": {
      "name": "processing_queue",
      "columns": {
        "queue_id": {
          "name": "queue_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "operation_id": {
          "name": "operation_id",
          "type": "varchar(36)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "priority": {
          "name": "priority",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 10
        },
        "retry_count": {
          "name": "retry_count",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "max_retries": {
          "name": "max_retries",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 3
        },
        "worker_id": {
          "name": "worker_id",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "locked_at": {
          "name": "locked_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(now())"
        }
      },
      "indexes": {
        "priority_idx": {
          "name": "priority_idx",
          "columns": [
            "priority",
            "created_at"
          ],
          "isUnique": false
        },
        "locked_at_idx": {
          "name": "locked_at_idx",
          "columns": [
            "locked_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "processing_queue_queue_id": {
          "name": "processing_queue_queue_id",
          "columns": [
            "queue_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "users": {
      "name": "users",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "full_name": {
          "name": "full_name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "total_processed": {
          "name": "total_processed",
          "type": "int",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "storage_used_bytes": {
          "name": "storage_used_bytes",
          "type": "bigint",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": 0
        },
        "tier": {
          "name": "tier",
          "type": "enum('FREE','PRO','ENTERPRISE')",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "'FREE'"
        },
        "preferences": {
          "name": "preferences",
          "type": "json",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "default": "(now())"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false,
          "onUpdate": true
        },
        "last_active_at": {
          "name": "last_active_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        }
      },
      "indexes": {
        "email_idx": {
          "name": "email_idx",
          "columns": [
            "email"
          ],
          "isUnique": true
        },
        "created_at_idx": {
          "name": "created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "users_user_id": {
          "name": "users_user_id",
          "columns": [
            "user_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}